<audio #playlistAudio autoplay>
  <source src="" type="audio/mp3" />
</audio>

<mat-card>
  <mat-card-header>
    <mat-card-title>{{ playlist.title }}</mat-card-title>
    <img mat-card-avatar src="{{ playlist.thumbnail }}" />
    <mat-card-subtitle
      >Currently playing: {{ playlist.currentItem.title }}</mat-card-subtitle
    >
  </mat-card-header>
  <mat-card-actions>
    <button
      mat-raised-button
      color="primary"
      (click)="prev()"
      [disabled]="!hasPrev"
    >
      <mat-icon svgIcon="skip-previous"></mat-icon>
    </button>
    <button
      mat-raised-button
      color="primary"
      (click)="next()"
      [disabled]="!hasNext"
    >
      <mat-icon svgIcon="skip-next"></mat-icon>
    </button>
    <app-toggle-button
      [initialValue]="playlist.shuffle"
      [icon]="'shuffle'"
      (value)="toggleShuffle($event)"
    ></app-toggle-button>
    <app-toggle-button
      [initialValue]="playlist.loop"
      [icon]="'loop'"
      (value)="toggleLoop($event)"
    ></app-toggle-button>
    <button
      mat-raised-button
      color="warn"
      (click)="eject()"
      [disabled]="ejecting"
    >
      <mat-icon svgIcon="eject"></mat-icon>
    </button>

    <div class="volume-slider">
      <mat-icon *ngIf="volume === 0" svgIcon="volumeMute"></mat-icon>
      <mat-icon
        *ngIf="volume > 0 && volume < 0.5"
        svgIcon="volumeDown"
      ></mat-icon>
      <mat-icon *ngIf="volume >= 0.5" svgIcon="volumeUp"></mat-icon>
      <mat-slider
        min="0"
        max="1"
        step="0.05"
        [value]="volume"
        (input)="volume = $event.value ? $event.value - 0.05 : volume"
        (mouseenter)="onMouseEnter($event)"
        (mouseleave)="onMouseLeave($event)"
      ></mat-slider>
    </div>
  </mat-card-actions>
</mat-card>
