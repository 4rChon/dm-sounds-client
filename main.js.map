{"version":3,"sources":["./src/app/playlist/playlist-settings/playlist-settings.component.ts","./src/app/playlist/playlist-settings/playlist-settings.component.html","./src/app/common/ytpl.service.ts","./src/environments/environment.ts","./src/app/playlist/playlist.service.ts","./src/app/playlist/playlist.component.ts","./src/app/playlist/playlist.component.html","./src/app/common/ytdl.service.ts","./src/app/common/loop.enum.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/temp/temp.component.ts","./src/app/temp/temp.component.html","./src/app/audio/audio.component.ts","./src/app/audio/audio.component.html","./src/app/playlist/playlist-controls/playlist-controls.component.ts","./src/app/playlist/playlist-controls/playlist-controls.component.html","./src/app/playlist/playlist.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, EventEmitter, Output } from '@angular/core';\r\nimport { LoopType } from 'src/app/common/loop.enum';\r\n\r\n@Component({\r\n  selector: 'app-playlist-settings',\r\n  templateUrl: 'playlist-settings.component.html',\r\n})\r\nexport class PlaylistSettingsComponent {\r\n  @Output() shuffle = new EventEmitter<boolean>();\r\n  @Output() loop = new EventEmitter<LoopType>();\r\n\r\n  constructor() {}\r\n\r\n  public onShuffle(event: any): void {\r\n    this.shuffle.emit(event.target.checked);\r\n  }\r\n\r\n  public onLoop(event: any): void {\r\n    const value = event.target.value;\r\n    if (value === 'loopSingle') {\r\n      this.loop.emit(LoopType.SINGLE);\r\n    } else if (value === 'loopAll') {\r\n      this.loop.emit(LoopType.ALL);\r\n    }\r\n    this.loop.emit(LoopType.NONE);\r\n  }\r\n}\r\n","<div>\r\n  <div>\r\n    <label>\r\n      <input (click)=\"onShuffle($event)\" type=\"checkbox\" />\r\n      Shuffle\r\n    </label>\r\n  </div>\r\n  <div>\r\n    <div>\r\n      <label>\r\n        <input\r\n          (click)=\"onLoop($event)\"\r\n          type=\"radio\"\r\n          id=\"loop-single\"\r\n          name=\"loop\"\r\n          value=\"loopSingle\"\r\n        />\r\n        Loop sound\r\n      </label>\r\n    </div>\r\n    <div>\r\n      <label>\r\n        <input\r\n          (click)=\"onLoop($event)\"\r\n          type=\"radio\"\r\n          id=\"loop-all\"\r\n          name=\"loop\"\r\n          value=\"loopAll\"\r\n        />\r\n        Loop playlist\r\n      </label>\r\n    </div>\r\n    <div>\r\n      <label>\r\n        <input\r\n          (click)=\"onLoop($event)\"\r\n          type=\"radio\"\r\n          id=\"loop-none\"\r\n          name=\"loop\"\r\n          value=\"loopNone\"\r\n        />\r\n        Don't loop\r\n      </label>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport * as ytpl from 'ytpl';\r\nimport { PlaylistModel } from '../playlist/playlist.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class YTPLService {\r\n  constructor(private readonly httpClient: HttpClient) {}\r\n\r\n  private jsonHeaders = new HttpHeaders({ 'content-type': 'application/json' });\r\n\r\n  public getPlaylistItems(url: string): Observable<PlaylistModel> {\r\n    return this.httpClient.get<PlaylistModel>(\r\n      `${environment.api}/playlist/${url}`,\r\n      {\r\n        headers: this.jsonHeaders,\r\n      }\r\n    );\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  api: 'http://localhost:3000',\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\r\nimport { Playlist } from './playlist';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PlaylistService {\r\n  constructor() {}\r\n\r\n  playlists: { [id: string]: Playlist } = {};\r\n\r\n  public addPlaylist(playlist: Playlist): void {\r\n    this.playlists[playlist.id] = playlist;\r\n  }\r\n\r\n  public removePlaylist(id: string): void {\r\n    delete this.playlists[id];\r\n  }\r\n\r\n  public replacePlaylist(\r\n    firstPlaylistId: string,\r\n    secondPlaylist: Playlist\r\n  ): void {\r\n    this.removePlaylist(firstPlaylistId);\r\n    this.addPlaylist(secondPlaylist);\r\n  }\r\n}\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { LoopType } from '../common/loop.enum';\r\nimport { YTDLService } from '../common/ytdl.service';\r\nimport { YTPLService } from '../common/ytpl.service';\r\nimport { Playlist } from './playlist';\r\nimport { PlaylistService } from './playlist.service';\r\n\r\n@Component({\r\n  selector: 'app-playlist',\r\n  templateUrl: 'playlist.component.html',\r\n})\r\nexport class PlaylistComponent implements OnInit, OnDestroy {\r\n  @Input() playlistId = '';\r\n\r\n  playlist?: Playlist;\r\n  constructor(\r\n    private readonly playlistService: PlaylistService,\r\n    private readonly ytplService: YTPLService,\r\n    private readonly ytdlService: YTDLService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.ytplService.getPlaylistItems(this.playlistId).subscribe((model) => {\r\n      this.playlist = new Playlist(model, this.ytdlService, true);\r\n      this.playlistService.addPlaylist(this.playlist);\r\n    });\r\n  }\r\n\r\n  public isLoopSingle(): boolean {\r\n    return this.playlist?.loop === LoopType.SINGLE;\r\n  }\r\n\r\n  public onNext(): void {\r\n    this.playlist?.next();\r\n  }\r\n\r\n  public onPrev(): void {\r\n    this.playlist?.prev();\r\n  }\r\n\r\n  public onPlay(): void {\r\n    this.playlist?.play();\r\n  }\r\n\r\n  public onStop(): void {\r\n    this.playlist?.stop();\r\n  }\r\n\r\n  public onShuffle(shuffle: boolean): void {\r\n    this.playlist?.setShuffle(shuffle);\r\n  }\r\n\r\n  public onLoop(loop: LoopType): void {\r\n    this.playlist?.setLoop(loop);\r\n  }\r\n\r\n  public removePlaylist(): void {\r\n    this.playlist?.stop();\r\n    this.playlistService.removePlaylist(this.playlistId);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.removePlaylist();\r\n  }\r\n}\r\n","<div>\r\n  <h2>{{ playlist?.title }}</h2>\r\n  <div>Current Sound: ...</div>\r\n  <app-playlist-controls\r\n    (play)=\"onPlay()\"\r\n    (stop)=\"onStop()\"\r\n    (next)=\"onNext()\"\r\n    (prev)=\"onPrev()\"\r\n  ></app-playlist-controls>\r\n  <app-audio\r\n    *ngIf=\"playlist\"\r\n    [loop]=\"isLoopSingle()\"\r\n    [audioSrc]=\"playlist?.getCurrentAudioId()\"\r\n  ></app-audio>\r\n  <app-playlist-settings\r\n    (shuffle)=\"onShuffle($event)\"\r\n    (loop)=\"onLoop($event)\"\r\n  ></app-playlist-settings>\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class YTDLService {\r\n  constructor(private readonly httpClient: HttpClient) {}\r\n\r\n  public getAudioStream(url: string): Observable<ArrayBuffer> {\r\n    return this.httpClient.get(`${environment.api}/stream/${url}`, {\r\n      responseType: 'arraybuffer',\r\n    });\r\n  }\r\n}\r\n","export enum LoopType {\r\n  SINGLE,\r\n  ALL,\r\n  NONE,\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.less']\r\n})\r\nexport class AppComponent {\r\n  title = 'dm-sounds';\r\n}\r\n","<nav>\r\n  <ul>\r\n    <li><a routerLink=\"/temp\" routerLinkActive=\"active\">Temp Component</a></li>\r\n  </ul>\r\n</nav>\r\n<router-outlet></router-outlet>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TempComponent } from './temp/temp.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AudioComponent } from './audio/audio.component';\r\nimport { PlaylistComponent } from './playlist/playlist.component';\r\nimport { PlaylistSettingsComponent } from './playlist/playlist-settings/playlist-settings.component';\r\nimport { PlaylistControlsComponent } from './playlist/playlist-controls/playlist-controls.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    TempComponent,\r\n    PlaylistComponent,\r\n    PlaylistSettingsComponent,\r\n    PlaylistControlsComponent,\r\n    AudioComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { Item } from 'ytpl';\r\nimport { YTPLService } from '../common/ytpl.service';\r\n\r\n@Component({\r\n  selector: 'app-temp',\r\n  templateUrl: 'temp.component.html',\r\n})\r\nexport class TempComponent {\r\n  constructor() {}\r\n\r\n  playlists: Array<string> = [];\r\n  playlistId = new FormControl('');\r\n  audioIds = new Set<string>();\r\n\r\n  playlistItems = new Array<Item>();\r\n  playlistIndex = -1;\r\n  currentItemId = '';\r\n\r\n  public addAudioStream(audioId: string): void {\r\n    this.audioIds.add(audioId);\r\n  }\r\n\r\n  public removeAudioStream(audioId: string): void {\r\n    this.audioIds.delete(audioId);\r\n  }\r\n\r\n  public onSubmit(): void {\r\n    this.playlists.push(this.playlistId.value);\r\n  }\r\n  // public onSubmit(): void {\r\n  //   this.ytplService\r\n  //     .getPlaylistItems(this.playlistId.value)\r\n  //     .subscribe((data) => {\r\n  //       this.playlistItems = data;\r\n  //       this.playlistIndex = 0;\r\n  //       this.playSong(this.playlistIndex);\r\n  //     });\r\n  // }\r\n\r\n  public playSong(index: number): void {\r\n    const item = this.playlistItems[index];\r\n    if (this.currentItemId !== '') {\r\n      this.removeAudioStream(this.currentItemId);\r\n    }\r\n    this.audioIds.add(item.id);\r\n    this.currentItemId = item.id;\r\n  }\r\n\r\n  public nextSong(): void {\r\n    this.playSong(++this.playlistIndex);\r\n  }\r\n\r\n  public prevSong(): void {\r\n    this.playSong(--this.playlistIndex);\r\n  }\r\n}\r\n","<form (ngSubmit)=\"onSubmit()\">\r\n  <label>\r\n    Youtube Playlist Id\r\n    <input id=\"ytpl-id\" type=\"text\" [formControl]=\"playlistId\" />\r\n    <button type=\"submit\">Stream</button>\r\n  </label>\r\n</form>\r\n\r\n<div *ngFor=\"let playlist of playlists\">\r\n  <app-playlist [playlistId]=\"playlist\"></app-playlist>\r\n</div>\r\n<!-- <div>{{ playlistIndex + 1 }}/{{ playlistItems.length }}</div> -->\r\n<!-- <div *ngFor=\"let audioId of audioIds\">\r\n  <app-audio [audioSrc]=\"audioId\" [loop]=\"true\"></app-audio>\r\n</div> -->\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-audio',\r\n  templateUrl: 'audio.component.html',\r\n})\r\nexport class AudioComponent {\r\n  @Input() audioSrc?: string;\r\n  @Input() loop?: boolean;\r\n}\r\n","<audio autoplay controls [loop]=\"loop\">\r\n  <source src=\"http://localhost:3000/stream/{{ audioSrc }}\" type=\"audio/mp3\" />\r\n  Unsupported Audio Element\r\n</audio>\r\n","import { Component, EventEmitter, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-playlist-controls',\r\n  templateUrl: 'playlist-controls.component.html',\r\n})\r\nexport class PlaylistControlsComponent {\r\n  @Output() play = new EventEmitter();\r\n  @Output() stop = new EventEmitter();\r\n  @Output() prev = new EventEmitter();\r\n  @Output() next = new EventEmitter();\r\n}\r\n","<div>\r\n  <button (click)=\"play.emit()\">Play</button>\r\n  <button (click)=\"stop.emit()\">Stop</button>\r\n  <button (click)=\"prev.emit()\">Previous</button>\r\n  <button (click)=\"next.emit()\">Next</button>\r\n</div>\r\n","import { Item } from 'ytpl';\r\nimport { LoopType } from '../common/loop.enum';\r\nimport { YTDLService } from '../common/ytdl.service';\r\nimport { PlaylistModel } from './playlist.model';\r\n\r\nexport class Playlist implements PlaylistModel {\r\n  private currentIndex = 0;\r\n  private history: Array<number> = [];\r\n  public readonly id: string;\r\n  public readonly items: Array<Item>;\r\n  public readonly title: string;\r\n  public readonly bestThumbnail: any;\r\n\r\n  private audioContext: AudioContext;\r\n  private audioSource: AudioBufferSourceNode;\r\n\r\n  constructor(\r\n    model: PlaylistModel,\r\n    private ytdlService: YTDLService,\r\n    public autoplay: boolean = false,\r\n    public shuffle: boolean = false,\r\n    public loop: LoopType = LoopType.NONE\r\n  ) {\r\n    this.id = model.id;\r\n    this.items = model.items;\r\n    this.title = model.title;\r\n    this.audioContext = new AudioContext();\r\n    this.audioSource = this.audioContext.createBufferSource();\r\n\r\n    if (autoplay) {\r\n      this.play();\r\n    }\r\n  }\r\n\r\n  public setShuffle(shuffle: boolean): void {\r\n    console.log(`shuffle: ${shuffle}`);\r\n    this.shuffle = shuffle;\r\n  }\r\n\r\n  public setLoop(loop: LoopType): void {\r\n    console.log(loop);\r\n    this.loop = loop;\r\n  }\r\n\r\n  public play(index?: number): void {\r\n    if (index === undefined) {\r\n      console.log(`playing ${this.currentIndex}`);\r\n      this.streamAudio(this.items[this.currentIndex].id);\r\n      return;\r\n    }\r\n\r\n    if (index < 0 || index >= this.items.length) {\r\n      return;\r\n    }\r\n\r\n    const itemId = this.items[index].id;\r\n    this.streamAudio(itemId);\r\n  }\r\n\r\n  public stop(): void {\r\n    if (this.audioContext.state === 'running') {\r\n      this.audioSource.stop();\r\n      this.audioContext.close();\r\n    }\r\n    console.log('stopping');\r\n  }\r\n\r\n  public next(): void {\r\n    console.log('next');\r\n    this.stop();\r\n    if (this.currentIndex > -1 && this.currentIndex < this.items.length) {\r\n      this.history.push(this.currentIndex);\r\n    }\r\n\r\n    this.currentIndex = this.getNextIndex();\r\n    this.play(this.currentIndex);\r\n  }\r\n  public prev(): void {\r\n    console.log('prev');\r\n    this.stop();\r\n    if (this.history.length > 0) {\r\n      this.currentIndex = this.history.pop() as number;\r\n      this.play(this.currentIndex);\r\n    }\r\n  }\r\n\r\n  public getCurrentAudioId(): string {\r\n    if (this.currentIndex >= 0 && this.currentIndex < this.items.length) {\r\n      return this.items[this.currentIndex].id;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  private streamAudio(id: string): void {\r\n    this.ytdlService.getAudioStream(id).subscribe((stream) => {\r\n      this.audioContext\r\n        .decodeAudioData(stream)\r\n        .then((value) => {\r\n          this.audioSource.buffer = value;\r\n          this.audioSource.connect(this.audioContext.destination);\r\n          this.audioSource.start();\r\n          this.audioSource.loop = this.loop === LoopType.SINGLE;\r\n          console.log(`playing ${id}`);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    });\r\n  }\r\n\r\n  private getNextIndex(): number {\r\n    if (this.loop === LoopType.SINGLE) {\r\n      return this.currentIndex;\r\n    }\r\n\r\n    if (this.shuffle) {\r\n      return Math.floor(Math.random() * Math.floor(this.items.length));\r\n    } else {\r\n      if (this.currentIndex === this.items.length - 1) {\r\n        if (this.loop === LoopType.ALL) {\r\n          return 0;\r\n        }\r\n        return -1;\r\n      }\r\n      return this.currentIndex + 1;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TempComponent } from './temp/temp.component';\r\n\r\nconst routes: Routes = [{ path: 'temp', component: TempComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}